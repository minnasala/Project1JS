<HTML>

<style>

body {
    font-family: Arial, Helvetica, sans-serif;
    background-color: lightsteelblue;
    
}
div {
    width: 50%;
}
#tasks {
    background-color: whitesmoke;
}
#tasktable td, #tasktable td {
    border: 1px solid rgb(19, 16, 16);
    padding: 5px;
}

#tasktable tr:nth-child(odd){background-color: lightslategray;}
#tasktable tr:nth-child(even){background-color: whitesmoke;}


#tasktable tr:hover {background-color: cornflowerblue;}


#tasktable th {
    padding-top: 15px;
    padding-bottom: 15px;
    padding-left: 5px;
    text-align: left;
    background-color:darkslategrey;
    color: white;

}



</style>


<head>
    <title>Things to Be Done</title>
</head>
<body>

    <!--Form for the taskmanager-->
    
    <form action="" method="post" id="tasks">
        <fieldset><h1>Things to Be Done</h1>
            <p>Complete the form to add a task in the Things to Be Done -tables below.</p>
            
            <p>To Be Done:
                <input type="text" name="task" id="task">
                <span id="feedback"></span>
            </p>
            <p>Comments:
                <input type="checkbox" name="comments" id="comments" onclick="showComment()">
                Additional info
            </p>
            <p>
                <div name="extraField" id="extraField">
                    <p><h4>Additional info:</h4>
                        <textarea name="extra" id="extra">Comment here</textarea>
                        <span id="feedback2"></span>
                    </p>
                </div>
            </p>
            <p>
                Location:
                <input type="text" name="place" id="place">
                <span id="feedback3"></span>
            </p>
            <p>
                Deadline:
                <input type="date" name="time" id="time">
                <span id="feedback4"></span>
            </p>
            <p>
                Importance:
                <select name="importance" id="importance" >
                    <option value="choose">--choose--</option>
                    <option value="Critical">Critical</option>
                    <option value="Normal">Normal</option>
                    <option value="Low">Low</option>        
                </select>
                <span id="feedback6"></span>
                
            </p>
            <button type="button" onclick="return getData()">Submit</button>
            

        </fieldset>
    </form>

    <!--table that has some tasks and fills out with the new ones-->
    <fieldset>
        <legend>To Be Done -list</legend>
        <table id="tasktable" class="display" cellspacing="0" width="100%">
        

        
            <thead>
                <th>To Be Done</th>
                <th>Comments</th>
                <th>Location</th>
                <th>Deadline</th>
                
                <th>Importance</th>
                <th>Finished</th>
            </thead>
            <tfoot>
            </tfoot>
            <tbody>
                <tr>
                    <td>Hula hoop on trampoline.</td>
                    <td>Exercise of the day.</td>
                    <td>Trampoline</td>
                    <td>11.8.2020</td>
                    
                    <td>Critical</td>
                    <td>
                        <form action="" method="post" id="finish">
                            <p>
                                Yes
                                <input type="checkbox" name="done" id="done">
                            </p>
                        </form>
                    </td>
                </tr>
                <tr>
                    <td>Draw blindfolded</td>
                    <td>Artistic expression is good for mental health</td>
                    <td>Garage</td>
                    <td>13.11.2020</td>
                    
                    <td>Normal</td>
                    <td>
                        <form>
                            <p>
                                Yes
                                <input type="checkbox" name="done" id="done">
                            </p>
                        </form>
                    </td>
                </tr>
            </tbody>
        

        </table>
    </fieldset>

    
<script>
// hidden element
    var hiddenE = document.getElementById("extraField");
    hiddenE.style.display = "none";

    //function for showing the element while checkbox is checked
    function showComment() {
        var checkBox = document.getElementById("comments");
        var extraE = document.getElementById("extraField");

        if (checkBox.checked) {
            extraE.style.display = "block";
        } else {
            extraE.style.display = "none";
        }
    }
    //get data
    function getData() {
        var data1task = document.forms.tasks.task.value;
        var data2comment = document.forms.tasks.extra.value;
        var data3place = document.forms.tasks.place.value;
        var data4time = document.forms.tasks.time.value;
        var data7importance = document.forms.tasks.importance.value;

    // Conditions for data validation

        
        if (data1task == null || data1task == ""|| data1task.length > 50) {
            document.getElementById('feedback').innerHTML="<b>*Fill in field, under 50 characters.</b>"
            document.forms.tasks.task.style.borderColor = "red";
        } 
        if (data3place == null || data3place =="") {
            document.getElementById('feedback3').innerHTML="<b>*Fill in location.</b>";
            document.forms.tasks.place.style.borderColor = "red";
        }    
        
        if (data4time == null || data4time == "") {
            document.getElementById('feedback4').innerHTML="<b>*Choose deadline</b>";
            document.forms.tasks.time.style.borderColor = "red";
        }
            

        if (data7importance == "choose") {
            document.getElementById('feedback6').innerHTML="<b>*Choose urgency</b>";
            document.forms.tasks.importance.style.borderColor = "red";
        }

        //Adding all the data from the form to the table      

        var table = document.getElementById('tasktable');
        var row = table.insertRow();
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);
        var cell5 = row.insertCell(4);
        var cell6 = row.insertCell(5);
            

        cell1.innerHTML = data1task;
        cell2.innerHTML = data2comment;
        cell3.innerHTML = data3place;
        cell4.innerHTML = data4time;
            
        cell5.innerHTML = data7importance;
        cell6.innerHTML = document.getElementById('finish').innerHTML;

        //Form reset after submission
        document.getElementById('tasks').reset();

        //return false, so that the form doesn't reload
        return false;
            

        
    }
    
        
    
</script>
</body>
</HTML>